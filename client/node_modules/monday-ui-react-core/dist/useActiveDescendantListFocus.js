!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["monday-style"]=t(require("react")):e["monday-style"]=t(e.react)}(this,(e=>(()=>{"use strict";var t={91510:(e,t,s)=>{s.r(t)},97350:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviousSelectableIndex=t.getNextSelectableIndex=void 0,t.getNextSelectableIndex=function({isItemSelectable:e,visualFocusItemIndex:t,itemsCount:s}){if(!(t>s-1))for(let u=1;u<=s;u++){const n=(t+u)%s;if(e(n))return n}},t.getPreviousSelectableIndex=function({isItemSelectable:e,visualFocusItemIndex:t,itemsCount:s}){for(let u=1;u<=s-1;u++){let n=t-u;if(n<0&&(n=s+n),e(n))return n}}},41601:function(e,t,s){var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useKeepFocusOnItemWhenListChanged=t.useSetDefaultItemOnFocusEvent=t.useCleanVisualFocusOnBlur=t.useSupportPressItemKeyboardNavigation=t.useSupportArrowsKeyboardNavigation=void 0;const n=s(8156),o=u(s(61350)),l=u(s(51496)),a=u(s(90164)),c=s(97350),r=u(s(92998));var i;!function(e){e.UP="ArrowUp",e.DOWN="ArrowDown",e.RIGHT="ArrowRight",e.LEFT="ArrowLeft"}(i||(i={}));const d="Enter";t.useSupportArrowsKeyboardNavigation=function({itemsCount:e,focusedElementRef:t,visualFocusItemIndex:s,setVisualFocusItemIndex:u,isHorizontalList:l,isItemSelectable:a,listenerOptions:r,triggeredByKeyboard:d}){const f=l?i.RIGHT:i.DOWN,m=l?i.LEFT:i.UP,I=(0,n.useCallback)((n=>{if(document.activeElement!==t.current)return;if(!d.current&&(d.current=!0,s>-1))return;let o;n===f?o=(0,c.getNextSelectableIndex)({isItemSelectable:a,visualFocusItemIndex:s,itemsCount:e}):n===m&&(o=(0,c.getPreviousSelectableIndex)({isItemSelectable:a,visualFocusItemIndex:s,itemsCount:e})),o>-1&&o!==s&&u(o)}),[t,d,f,m,s,u,a,e]),b=(0,n.useCallback)((()=>{I(m)}),[m,I]),v=(0,n.useCallback)((()=>{I(f)}),[f,I]);(0,o.default)(Object.assign({keys:[f],callback:v},r)),(0,o.default)(Object.assign({keys:[m],callback:b},r))},t.useSupportPressItemKeyboardNavigation=function({visualFocusItemIndex:e,focusedElementRef:t,itemsCount:s,setVisualFocusItemIndex:u,onItemClick:l,isItemSelectable:a,listenerOptions:c,isIgnoreSpaceAsItemSelection:r=!1}){const i=(0,n.useMemo)((()=>r?[d]:[d," "]),[r]),f=(0,n.useCallback)(((t,n)=>{l&&(n>=0&&n<s)&&a(n)&&(e!==n&&u(n),l(t,n))}),[s,l,a,e,u]),m=(0,n.useCallback)((s=>{t.current.contains(document.activeElement)&&f(s,e)}),[f,t,e]);(0,o.default)(Object.assign({keys:i,callback:m},c))},t.useCleanVisualFocusOnBlur=function({focusedElementRef:e,visualFocusItemIndex:t,setVisualFocusItemIndex:s}){const u=(0,a.default)(e),o=(0,n.useCallback)((()=>{-1!==t&&s(-1)}),[s,t]);(0,n.useEffect)((()=>{null===(null==e?void 0:e.current)&&null!==(null==u?void 0:u.current)&&o()}),[e.current,u,o]),(0,l.default)({eventName:"blur",ref:e,callback:o})},t.useSetDefaultItemOnFocusEvent=function({focusedElementRef:e,isItemSelectable:t,visualFocusItemIndex:s,setVisualFocusItemIndex:u,itemsCount:o,defaultVisualFocusItemIndex:l=-1}){const a=(0,n.useRef)(!1),i=(0,n.useCallback)((()=>{if(a.current=!0,s!==l){let e;e=t(l)?l:(0,c.getNextSelectableIndex)({isItemSelectable:t,itemsCount:o,visualFocusItemIndex:l}),u(e)}}),[l,t,o,u,a,s]),d=(0,n.useCallback)((()=>{a.current=!1}),[a]);return(0,r.default)({ref:e,onFocusByKeyboard:i,onFocusByMouse:d}),{triggeredByKeyboard:a}},t.useKeepFocusOnItemWhenListChanged=function({visualFocusItemIndex:e,itemsIds:t,isItemSelectable:s,setVisualFocusItemIndex:u}){const o=(0,a.default)(t);(0,n.useEffect)((()=>{let n;if(void 0!==o&&o!==t&&void 0!==o&&-1!==e){const s=o[e];n=t.indexOf(s)}else n=e;if(n!==e)if(s(n))u(n);else{const e=(0,c.getNextSelectableIndex)({isItemSelectable:s,visualFocusItemIndex:n,itemsCount:t.length});u(e)}}),[e,t,s,u,o])}},51496:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const u=s(8156);t.default=function({eventName:e,callback:t,ref:s,capture:n=!1}){(0,u.useEffect)((()=>{const u=s&&s.current;if(!u)return;const o={capture:n};return u.addEventListener(e,t,o),()=>{u.removeEventListener(e,t,o)}}),[e,s,t,n])}},61350:function(e,t,s){var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(8156),o=u(s(51496));var l;!function(e){e.ALT="altKey",e.META="metaKey",e.CTRL="ctrlKey",e.SHIFT="shiftKey",e.CTRL_OR_META="ctrlOrMetaKey"}(l||(l={}));function a({keys:e=[],callback:t,modifier:s,withoutAnyModifier:u,ref:c,ignoreDocumentFallback:r=!1,capture:i=!1,preventDefault:d=!1,stopPropagation:f=!1,keyEventName:m="keydown"}){const I=(0,n.useRef)(document.body),b=(0,n.useCallback)((n=>{const{key:o}=n;e.includes(o)&&(s&&!((e,t)=>t===l.CTRL_OR_META?e.ctrlKey||e.metaKey:e[t])(n,s)||u&&!(e=>!Object.values(a.modifiers).some((t=>{if("ctrlOrMetaKey"!==t)return!!e[t]})))(n)||(d&&n.preventDefault(),f&&n.stopPropagation(),t(n)))}),[e,s,u,d,f,t]);let v;v=c||(r?null:I),(0,o.default)({eventName:m,callback:b,ref:v,capture:i})}t.default=a,a.modifiers=l},92998:function(e,t,s){var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=u(s(51496)),o=s(8156);t.default=function({ref:e,onFocusByKeyboard:t,onFocusByMouse:s}){const u=(0,o.useRef)(!1),l=(0,o.useCallback)((()=>{u.current=!0}),[u]),a=(0,o.useCallback)((e=>{u.current?null==s||s(e):null==t||t(e)}),[t,s]),c=(0,o.useCallback)((()=>{u.current=!1}),[u]);(0,n.default)({eventName:"mousedown",ref:e,callback:l}),(0,n.default)({eventName:"focus",ref:e,callback:a}),(0,n.default)({eventName:"mouseup",ref:e,callback:c})}},90164:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const u=s(8156);t.default=function(e){const t=(0,u.useRef)(void 0);return(0,u.useLayoutEffect)((()=>{t.current=e})),t.current}},8156:t=>{t.exports=e}},s={};function u(e){var n=s[e];if(void 0!==n)return n.exports;var o=s[e]={exports:{}};return t[e].call(o.exports,o,o.exports,u),o.exports}u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return u(91510),(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0});const t=u(8156),s=u(41601);var o;function l({focusedElementRef:e,itemsIds:u,isItemSelectable:n,onItemClick:l,defaultVisualFocusFirstIndex:a=!1,focusedElementRole:c=o.GROUP,isHorizontalList:r=!1,useDocumentEventListeners:i=!1,isIgnoreSpaceAsItemSelection:d=!1}){const f=a?0:-1,m=u.length,[I,b]=(0,t.useState)(-1),v=u[I],p=(0,t.useMemo)((()=>{if(!i)return{ref:e,preventDefault:!0,stopPropagation:!0}}),[i,e]),{triggeredByKeyboard:y}=(0,s.useSetDefaultItemOnFocusEvent)({focusedElementRef:e,isItemSelectable:n,visualFocusItemIndex:I,setVisualFocusItemIndex:b,itemsCount:m,defaultVisualFocusItemIndex:f}),x=(0,t.useCallback)(((e,t)=>{y.current=t;const s=u.indexOf(e);s>-1&&s!==I&&b(s)}),[u,y,I]);(0,s.useSupportArrowsKeyboardNavigation)({itemsCount:m,focusedElementRef:e,visualFocusItemIndex:I,setVisualFocusItemIndex:b,triggeredByKeyboard:y,isHorizontalList:r,isItemSelectable:n,listenerOptions:p}),(0,s.useSupportPressItemKeyboardNavigation)({visualFocusItemIndex:I,itemsCount:m,focusedElementRef:e,setVisualFocusItemIndex:b,onItemClick:l,isItemSelectable:n,listenerOptions:p,isIgnoreSpaceAsItemSelection:d}),(0,s.useKeepFocusOnItemWhenListChanged)({visualFocusItemIndex:I,itemsIds:u,isItemSelectable:n,setVisualFocusItemIndex:b}),(0,s.useCleanVisualFocusOnBlur)({focusedElementRef:e,visualFocusItemIndex:I,setVisualFocusItemIndex:b});const F=(0,t.useCallback)((e=>t=>l(t,e)),[l]);return{visualFocusItemIndex:y.current?I:void 0,visualFocusItemId:y.current?v:void 0,focusedElementProps:{"aria-activedescendant":y.current?v:void 0,role:c},onItemClickCallback:l,createOnItemClickCallback:F,setVisualFocusItemId:x}}!function(e){e.APPLICATION="application",e.COMBOBOX="combobox",e.COMPOSITE="composite",e.GROUP="group",e.TEXTBOX="textbox",e.MENU="menu"}(o||(o={})),l.roles=o,e.default=l})(),n})()));
//# sourceMappingURL=useActiveDescendantListFocus.js.map