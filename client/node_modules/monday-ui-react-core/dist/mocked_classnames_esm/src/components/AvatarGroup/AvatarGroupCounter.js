import{jsx as o,jsxs as e}from"react/jsx-runtime";import{useRef as r,useCallback as t}from"react";import n from"classnames";import i from"../Avatar/Avatar.js";import a from"../Counter/Counter.js";import s from"../MenuButton/MenuButton.js";import u from"../Menu/Menu/Menu.js";import l from"../Menu/MenuItem/AvatarMenuItem.js";import p from"./AvatarGroupCounterTooltipContainer.js";import{getStyle as c}from"../../helpers/typesciptCssModulesHelper.js";import{avatarOnClick as m}from"./AvatarGroupHelper.js";import d from"./AvatarGroupCounter.module.scss.js";var v=function(v){var f=v.counterTooltipAvatars,b=void 0===f?[]:f,j=v.counterTooltipCustomProps,I=v.counterTooltipIsVirtualizedList,M=void 0!==I&&I,C=v.size,x=void 0===C?i.sizes.MEDIUM:C,g=v.type,L=v.counterProps||{},h=L.color,z=void 0===h?a.colors.LIGHT:h,P=L.count,A=void 0===P?b.length:P,T=L.prefix,O=void 0===T?"+":T,N=L.maxDigits,y=void 0===N?3:N,D=L.ariaLabelItemsName,G=void 0===D?"items":D,k=c(d,null==x?void 0:""+x),H=d[z],R=r(null),B=r(null),E=r(null),U=t((function(){return o(a,{color:z,count:A,prefix:O,maxDigits:y,ariaLabel:"Tab for more ".concat(G)})}),[G,z,y,O,A]);return b.length||A?b.some((function(o){var e;return null===(e=o.props)||void 0===e?void 0:e.onClick}))?o(s,Object.assign({component:U,zIndex:1,componentClassName:n(d.counterContainer,k,H),ariaLabel:"".concat(A," additional ").concat(G)},{children:o(u,Object.assign({id:"menu",size:u.sizes.MEDIUM,className:d.menu,focusItemIndexOnMount:0},{children:b.map((function(e,r){var t,n,a,s;return o(l,{menuItemProps:{key:(null===(t=e.props)||void 0===t?void 0:t.id)||r+"",title:(null===(a=null===(n=e.props)||void 0===n?void 0:n.tooltipProps)||void 0===a?void 0:a.content)||(null===(s=null==e?void 0:e.props)||void 0===s?void 0:s.ariaLabel),onClick:function(o){return m(o,e.props)}},avatarProps:Object.assign(Object.assign({},e.props),{size:i.sizes.SMALL,ariaLabel:"",tabIndex:-1})})}))}))})):e(p,Object.assign({focusPrevPlaceholderRef:R,focusNextPlaceholderRef:B,counterContainerRef:E,avatars:b,counterTooltipCustomProps:j,counterTooltipIsVirtualizedList:M,type:g},{children:[o("div",{tabIndex:-1,ref:R}),e("div",Object.assign({tabIndex:0,className:n(d.counterContainer,k,H),ref:E},{children:[U(),o("div",{tabIndex:-1,ref:B})]}))]})):null};export{v as default};
