import{slicedToArray as e}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as r}from"react/jsx-runtime";import i,{forwardRef as n,useRef as s,useState as t,useEffect as a,useMemo as o,useCallback as l}from"react";import c from"classnames";import u from"../../../hooks/useGridKeyboardNavigation/useGridKeyboardNavigation.js";import m from"../../../hooks/useMergeRefs.js";import d from"../../../hooks/usePrevious/index.js";import{NOOP as f}from"../../../utils/function-utils.js";import"./TabList.scss.js";var p=n((function(n,p){var b=n.className,v=n.id,h=n.onTabChange,g=void 0===h?f:h,I=n.activeTabId,j=void 0===I?0:I,C=n.tabType,N=void 0===C?"Compact":C,x=n.size,k=n.children,y=s(null),T=m({refs:[p,y]}),O=t(j),_=e(O,2),w=_[0],A=_[1],L=d(j);a((function(){j!==L&&j!==w&&A(j)}),[j,L,w,A]);var B=o((function(){var e=new Set;return i.Children.forEach(k,(function(r,i){r.props.disabled&&e.add(i)})),e}),[k]),E=l((function(e){B.has(e)||(A(e),g&&g(e))}),[g,B]),G=l((function(e,r){var i,n=null===(i=k[r].props)||void 0===i?void 0:i.onClick;B.has(r)||(n&&n(r),E(r))}),[k,B,E]),K=l((function(e){return k[e]}),[k]),P=o((function(){return Array.from(B)}),[B]),S=s(),z=u({ref:S,numberOfItemsInLine:null==k?void 0:k.length,itemsCount:null==k?void 0:k.length,getItemByIndex:K,onItemClicked:G,disabledIndexes:P}),H=z.activeIndex,M=z.onSelectionAction,R=o((function(){return i.Children.map(k,(function(e,r){return i.cloneElement(e,{value:r,active:w===r,focus:H===r,onClick:M,className:c("tabs-list_tab--wrapper",e.props.className),tabInnerClassName:c("tabs-list_tab-inner",e.props.tabInnerClassName)})}))}),[k,w,H,M]);return r("div",Object.assign({ref:T,className:c("tabs--wrapper",b,N),id:v},{children:r("ul",Object.assign({ref:S,tabIndex:0,className:c("tabs-list",x),role:"tablist"},{children:R}))}))}));Object.assign(p,{isTabList:!0});var b=p;export{b as default};
