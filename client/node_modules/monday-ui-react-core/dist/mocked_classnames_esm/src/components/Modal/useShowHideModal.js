import{toConsumableArray as l}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{useCallback as o,useEffect as e}from"react";import n from"./useAnimationProps.js";import i from"../../hooks/useKeyEvent/index.js";import{keyCodes as a}from"../../constants/keyCodes.js";var t=[a.ESCAPE];function r(a){var r=a.instance,s=a.show,u=a.onClose,d=a.alertDialog,c=n(a.triggerElement,r),m=o((function(l){!d&&(null==r?void 0:r.$el.contains(document.activeElement))&&(l.stopPropagation(),null==u||u())}),[d,null==r?void 0:r.$el,u]);i({callback:m,capture:!0,keys:t}),e((function(){var o,e,n;if(r){var i,a=null==r?void 0:r.$el.childNodes[1].animate;if(s)null==r||r.show(),a&&(null===(e=null==r?void 0:(o=r.$el.childNodes[1]).animate)||void 0===e||(i=e).call.apply(i,[o].concat(l(c()))));else if(a){var t,u=null===(n=null==r?void 0:r.$el.childNodes[1])||void 0===n?void 0:(t=n).animate.apply(t,l(c(!0)));null==u||u.finished.then((function(){return null==r?void 0:r.hide()}))}else null==r||r.hide()}}),[s,r,c])}export{r as default};
