import{slicedToArray as e,defineProperty as o}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsxs as i,jsx as t}from"react/jsx-runtime";import{forwardRef as s,useRef as n,useState as r,useEffect as a,useMemo as l,Fragment as m}from"react";import d from"classnames";import p from"../../hooks/useMergeRefs.js";import c from"../Tooltip/Tooltip.js";import u from"../Button/Button.js";import{BEMClass as h}from"../../helpers/bem-helper.js";import f from"../IconButton/IconButton.js";import y from"../Icon/Icons/components/CloseSmall.js";import T from"./TipseenTitle.js";import{TipseenCloseButtonTheme as v,TIPSEEN_CLOSE_BUTTON_ARIA_LABEL as j}from"./TipseenConstants.js";import{backwardCompatibilityForProperties as g}from"../../helpers/backwardCompatibilityForProperties.js";import C from"./Tipseen.module.scss.js";import{EMPTY_ARR as N}from"../../constants/common.js";import{DialogPosition as b}from"../../constants/positions.js";import{AnimationType as w,JustifyType as B}from"../../constants/dialog.js";var A=h("monday-style-tipseen"),O=s((function(s,h){var O,D=s.className,R=s.id,I=s.position,k=void 0===I?b.BOTTOM:I,E=s.animationType,H=void 0===E?w.EXPAND:E,S=s.hideDelay,W=void 0===S?0:S,P=s.showDelay,_=void 0===P?0:P,x=s.title,L=s.titleClassName,M=s.hideCloseButton,z=s.isCloseButtonHidden,G=s.closeButtonTheme,K=void 0===G?v.LIGHT:G,X=s.onClose,F=s.closeAriaLabel,U=s.children,V=void 0===U?null:U,Y=s.content,q=s.justify,J=void 0===q?B.CENTER:q,Q=s.containerSelector,Z=s.hideTrigger,$=void 0===Z?N:Z,ee=s.showTrigger,oe=void 0===ee?N:ee,ie=s.width,te=s.moveBy,se=s.hideWhenReferenceHidden,ne=void 0!==se&&se,re=s.tip,ae=void 0===re||re,le=s.tooltipArrowClassName,me=s.modifiers,de=void 0===me?N:me,pe=Array.isArray(oe)&&Array.isArray($)&&0===oe.length&&_>0,ce=n(null),ue=p({refs:[h,ce]}),he=r(!pe),fe=e(he,2),ye=fe[0],Te=fe[1],ve=F||j,je=g([M,z],!1);a((function(){var e;return _&&(e=setTimeout((function(){Te(!0)}),_)),function(){clearTimeout(e)}}),[_,Te]);var ge=h||R?"div":m,Ce=l((function(){return i("div",Object.assign({className:d("monday-style-tipseen")},{children:[i("div",Object.assign({className:d(C.tipseenHeader,A({element:"header"}))},{children:[je?null:t(f,{hideTooltip:!0,className:d(C.tipseenCloseButton,A({element:"close-button"}),o({},C.dark,K===v.DARK)),onClick:X,size:u.sizes.XS,kind:u.kinds.TERTIARY,color:u.colors.ON_INVERTED_BACKGROUND,ariaLabel:ve,icon:y}),t(T,{text:x,className:d(C.tipseenTitle,A({element:"title"}),L)})]})),t("div",Object.assign({className:d(C.tipseenContent,A({element:"content"}))},{children:Y}))]}))}),[Y,X,ve,je,x,L]);return t(ge,Object.assign({ref:ue,id:R},{children:t(c,Object.assign({className:d(C.tipseenWrapper,"".concat("monday-style-tipseen","-wrapper"),D,(O={},o(O,C.tipseenWrapperWithoutCustomWidth,!ie),o(O,"".concat("monday-style-tipseen","-wrapper--without-custom-width"),!ie),O)),arrowClassName:le,style:ie?{width:ie}:void 0,shouldShowOnMount:!pe,position:k,animationType:H,hideDelay:W,showDelay:_,hideTrigger:$,showTrigger:oe,content:Ce,theme:c.themes.Primary,justify:J,containerSelector:Q,disableDialogSlide:!1,moveBy:te,hideWhenReferenceHidden:ne,tip:ae,modifiers:de,open:pe?ye:void 0},{children:V}))}))}));Object.assign(O,{closeButtonThemes:v,positions:b,animationTypes:w,justifyTypes:B});var D=O;export{D as default};
