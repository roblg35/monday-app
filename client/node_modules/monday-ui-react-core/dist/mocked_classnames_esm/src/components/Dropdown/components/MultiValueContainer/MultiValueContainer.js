import{objectWithoutProperties as e,slicedToArray as t,defineProperty as n,extends as o}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import l,{useState as i,useCallback as r}from"react";import{components as a}from"react-select";import s from"classnames";import{useHiddenOptionsData as c}from"../../hooks/useHiddenOptionsData.js";import u from"../../../Counter/Counter.js";import m from"../../../Dialog/Dialog.js";import p from"../../../DialogContentContainer/DialogContentContainer.js";import d from"../../../Chips/Chips.js";import{DROPDOWN_CHIP_COLORS as h}from"../../dropdown-constants.js";import f from"./MultiValueContainer.module.scss.js";var v=["children","selectProps"];function g(g){var C=g.children,E=g.selectProps,w=e(g,v),D=E.isDisabled,P=E.placeholder,b=E.inputValue,j=E.selectProps,I=void 0===j?{}:j,N=E.withMandatoryDefaultOptions,O=E.readOnly,k=I.selectedOptions,y=I.onSelectedDelete,M=I.setIsDialogShown,T=I.isDialogShown,S=I.isMultiline,A=C[1],x=i(),V=t(x,2),L=V[0],_=V[1],B=0===k.length&&!b,F=f["chip-with-input-wrapper"],H=s(S?f["multiselect-chip-multi-line"]:f["multiselect-chip-single-line"],n({},f["multiselect-chip-disabled"],D)),K=c({isMultiline:S,ref:L,chipClassName:H,chipWrapperClassName:F,selectedOptionsCount:k.length}),R=K.overflowIndex,W=K.hiddenOptionsCount,U=W>0,Y=r((function(e){y(e.value,{action:"remove-value",removedValue:e})}),[y]),q=r((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.length;return k.map((function(n,o){var i=Object.keys(h).includes(n.chipColor)?n.chipColor:h.PRIMARY;return o>=e&&t>o?l.createElement(d,{dataTestId:"value-container-chip",key:n.value,className:H,noAnimation:!0,disabled:D,id:n.value,label:n.label,onDelete:function(){return Y(n)},disableClickableBehavior:!0,onMouseDown:function(e){e.stopPropagation()},readOnly:O||N&&n.isMandatory,allowTextSelection:O,leftAvatar:n.leftAvatar,leftIcon:n.leftIcon,color:i}):null}))}),[k,H,D,O,N,Y]);return l.createElement(a.ValueContainer,o({selectProps:E},w),l.createElement("div",{className:f["value-container"]},B&&l.createElement("div",{className:f["placeholder-container"]},l.createElement(a.Placeholder,w,P)),l.createElement("div",{className:s(f["value-container-chips"],n({},f["without-placeholder"],!B)),ref:function(e){return _(e)},"data-testid":"value-container-chips"},U?l.createElement(l.Fragment,null,q(0,R-1),l.createElement("div",{className:F},q(R-1,R),A),q(R)):l.createElement(l.Fragment,null,q(0,k.length-1),l.createElement("div",{className:F},q(k.length-1),A))),l.createElement("div",null,U&&l.createElement(m,{content:function(){return l.createElement(p,{className:f["value-container-dialog-content"]},q(R))},tooltip:!0,showTrigger:m.hideShowTriggers.CLICK,hideTrigger:m.hideShowTriggers.CLICK_OUTSIDE,open:T,onClick:function(){return M(!0)},onClickOutside:function(){return M(!1)}},l.createElement(u,{kind:u.kinds.LINE,prefix:"+",count:W,onMouseDown:function(e){e.stopPropagation()},noAnimation:!0})))))}export{g as default};
