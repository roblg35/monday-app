import{useRef as e,useCallback as o,useMemo as n}from"react";import c from"classnames";import{noop as t}from"lodash-es";import a from"../../../hooks/useEventListener/index.js";import r from"../../../hooks/useKeyEvent/index.js";import{keyCodes as s}from"../../../constants/keyCodes.js";import l from"../../../hooks/useIconScreenReaderAccessProps.js";var i=[s.ENTER,s.SPACE];function m(s){var m=s.onClick,u=s.className,f=s.clickable,p=s.ignoreFocusStyle,k=s.isDecorationOnly,b=s.iconLabel,d=s.externalTabIndex,v=e(null),C=o((function(e){document.activeElement===v.current&&m(e)}),[v,m]),x=o((function(e){e.preventDefault()}),[]),y=n((function(){return c("icon_component",u,{"icon_component--clickable":f,"icon_component--no-focus-style":p})}),[f,u,p]);a({eventName:"mousedown",callback:x,ref:v}),r({keys:i,ref:v,callback:C,ignoreDocumentFallback:!0,capture:!0,stopPropagation:!0,preventDefault:!0});var E=o((function(e){(m||t)(e)}),[m]),D=l({isClickable:f,label:b,isDecorationOnly:k});return D.tabIndex=null!=d?d:D.tabIndex,{screenReaderAccessProps:D,onClickCallback:E,computedClassName:y,onEnterCallback:C,iconRef:v}}export{m as default};
