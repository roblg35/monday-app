import{jsx as o,jsxs as e}from"react/jsx-runtime";import{forwardRef as t,useMemo as r,useRef as n,useCallback as i,useEffect as s}from"react";import c from"classnames";import{ColorStyle as l,contentColors as a}from"../../../../utils/colors-vars-map.js";import m from"../../../../utils/colors-utils.js";import"./ColorPickerItemComponent.scss.js";import d from"../../../Icon/Icon.js";import u from"../../../Tooltip/Tooltip.js";import p from"../../../Clickable/Clickable.js";import{ColorShapes as f}from"../../ColorPickerConstants.js";import{getTestId as v}from"../../../../tests/testIds.js";import{ComponentDefaultTestId as C}from"../../../../tests/constants.js";var j=t((function(t,j){var g=t.color,E=t.onColorClicked,I=t.colorStyle,b=void 0===I?l.REGULAR:I,y=t.shouldRenderIndicatorWithoutBackground,k=t.ColorIndicatorIcon,L=t.SelectedIndicatorIcon,R=t.isSelected,S=t.colorSize,h=t.tooltipContent,O=t.isActive,A=t.colorShape,N=t["data-testid"],w=r((function(){return a.includes(g)}),[g]),x=w?m.getMondayColorAsStyle(g,b):g,M=n(null),T=i((function(){return E(g)}),[E,g]);s((function(){if((null==M?void 0:M.current)&&!y&&w){var o=M.current,e=function(o){o.target.style.background=m.getMondayColorAsStyle(g,b===l.SELECTED?l.REGULAR:l.HOVER)},t=function(o){o.target.style.background=x};return o.addEventListener("mouseenter",e,!1),o.addEventListener("mouseleave",t,!1),function(){o.removeEventListener("mouseenter",e,!1),o.removeEventListener("mouseleave",t,!1)}}}),[g,x,b,w,M,y]);var D=R||k,P=y?{color:x}:{};return o(u,Object.assign({content:h},{children:e("li",Object.assign({className:c("monday-style-color-item-wrapper",{"selected-color":R,active:O,circle:A===f.CIRCLE}),"data-testid":N||v(C.COLOR_PICKER_ITEM,g)},{children:[o("div",{className:"feedback-indicator"}),o(p,Object.assign({ref:M,ariaLabel:g,className:c("color-item","color-item-size-".concat(S),{"color-item-text-mode":y}),style:{background:y?"transparent":x},onClick:T,tabIndex:"-1",onMouseDown:function(o){return o.preventDefault()}},{children:o("div",Object.assign({className:"color-indicator-wrapper",style:P},{children:D&&o(d,{icon:R?L:k,className:c({"color-icon-white":!y}),ignoreFocusStyle:!0})}))}))]}))}))}));export{j as default};
