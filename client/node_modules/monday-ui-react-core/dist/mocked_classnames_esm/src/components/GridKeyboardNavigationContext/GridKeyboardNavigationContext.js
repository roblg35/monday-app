import n,{useMemo as r,useContext as o,useCallback as t}from"react";import e from"../../hooks/useEventListener/index.js";import{useLastNavigationDirection as i}from"../Menu/Menu/hooks/useLastNavigationDirection.js";import{getDirectionMaps as u,getOppositeDirection as a,getOutmostElementInDirection as l,getNextElementToFocusInDirection as c}from"./helper.js";var v=n.createContext(),f=function(n,f){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disabled:!1},d=s.disabled,m=r((function(){return u(n)}),[n]),b=o(v),p=i(),g=p.lastNavigationDirectionRef,N=t((function(){var n,r=g.current;if(r&&!d){var o=a(r),t=l(m,o);null==t||null===(n=t.current)||void 0===n||n.focus()}}),[m,d,g]);e({eventName:"focus",callback:N,ref:f});var h=t((function(n,r){if(!d){var o,t,e=c(m[r],n);if(e)return null===(o=n.current)||void 0===o||o.blur(),void(null===(t=e.current)||void 0===t||t.focus());null==b||b.onOutboundNavigation(f,r)}}),[m,b,f,d]);return{onOutboundNavigation:h}};export{v as GridKeyboardNavigationContext,f as useGridKeyboardNavigationContext};
