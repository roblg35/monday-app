import{slicedToArray as o,defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as t,jsxs as i}from"react/jsx-runtime";import r,{useMemo as a,useCallback as l,cloneElement as n}from"react";import d from"react-dom";import s from"classnames";import{useA11yDialog as c}from"./a11yDialog.js";import m from"./ModalContent/ModalContent.js";import u from"./ModalHeader/ModalHeader.js";import f from"./useBodyScrollLock.js";import v from"./useShowHideModal.js";import{ModalWidth as p,validateTitleProp as y,isModalHeader as g,isModalContent as h,isModalFooter as j}from"./ModalHelper.js";import{NOOP as L}from"../../utils/function-utils.js";import C from"./Modal.module.scss.js";var D=function(D){var M,b=D.classNames,A=void 0===b?{container:"",overlay:"",modal:""}:b,H=D.id,w=D.show,B=D.title,T=void 0===B?"":B,E=D.description,F=void 0===E?"":E,U=D.onClose,x=void 0===U?L:U,N=D.alertDialog,P=void 0!==N&&N,_=D.children,I=D.triggerElement,O=D.width,k=void 0===O?p.DEFAULT:O,z=D.hideCloseButton,S=void 0!==z&&z,W=D.closeButtonAriaLabel,q=void 0===W?"Close":W,G=D.zIndex,J=void 0===G?1e4:G,K=a((function(){return _?r.Children.toArray(_):[]}),[_]);y(T,K);var Q=c({id:H,alertDialog:P}),R=o(Q,2),V=R[0],X=R[1],Y=l((function(){P||null==x||x()}),[P,x]);f({instance:V}),v({instance:V,show:w,triggerElement:I,onClose:x,alertDialog:P});var Z=a((function(){var o=X.title.id,e=K.find(g);return e?n(e,{id:o,closeModal:x}):t(u,{title:T,description:F,closeModal:x,id:o,hideCloseButton:S,closeButtonAriaLabel:q})}),[X.title,K,T,F,x,S,q]),$=a((function(){return K.find(h)||t(m,{children:K.filter((function(o){return!g(o)&&!j(o)}))})}),[K]),oo=a((function(){return K.find(j)||null}),[K]),eo=k!==p.DEFAULT&&k!==p.FULL_WIDTH,to=d.createPortal(i("div",Object.assign({},X.container,{className:s(C.container,A.container),"data-testid":"monday-dialog-container",style:{"--monday-modal-z-index":J}},{children:[t("div",{onClick:Y,className:s(C.overlay,A.overlay),"data-testid":"monday-modal-overlay"}),i("div",Object.assign({},X.dialog,{className:s(C.dialog,A.modal,(M={},e(M,C.default,k===p.DEFAULT),e(M,C.full,k===p.FULL_WIDTH),M)),style:{width:eo?k:null}},{children:[Z,$,oo]}))]})),document.body);return d.createPortal(to,document.body)};Object.assign(D,{width:p});var M=D;export{M as default};
