import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsxs as o,jsx as a}from"react/jsx-runtime";import{forwardRef as n,useRef as r,useCallback as i,useEffect as c,useMemo as t}from"react";import{isNil as s,noop as l}from"lodash-es";import m from"classnames";import p from"../Icon/Icon.js";import d from"../Icon/Icons/components/Check.js";import u from"../Icon/Icons/components/Remove.js";import{backwardCompatibilityForProperties as f}from"../../helpers/backwardCompatibilityForProperties.js";import{useSupportFirefoxLabelClick as b}from"./hooks/useSupportFirefoxLabelClick.js";import h from"../../hooks/useMergeRefs.js";import"./Checkbox.scss.js";var k="monday-style-checkbox",v=n((function(n,v){var C=n.className,_=n.componentClassName,j=n.checkboxClassName,y=n.labelClassName,g=n.ariaLabel,N=n.label,x=n.ariaLabelledBy,F=n.onChange,I=void 0===F?l:F,w=n.checked,S=n.indeterminate,L=void 0!==S&&S,O=n.disabled,P=void 0!==O&&O,R=n.defaultChecked,q=n.value,A=void 0===q?"":q,B=n.name,H=void 0===B?"":B,M=n.id,z=r(null),G=r(null),T=h({refs:[v,G]}),U=f([C,_]),V=i((function(){var e=G.current;e&&window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.blur()}))}))}),[G]),D=["".concat(k,"__checkbox"),"".concat(k,"__prevent-animation"),j],E=R;s(E)&&s(w)&&(E=!1),c((function(){G.current&&(G.current.indeterminate=L)}),[G,L]);var J=b({inputRef:G}).onClickCapture,K=t((function(){return g||("string"==typeof N?N:"")}),[g,N]);return o("label",Object.assign({className:m(k,U,e({},"".concat(k,"__disabled"),P)),onMouseUp:V,htmlFor:M,onClickCapture:J},{children:[a("input",{ref:T,id:M,className:"".concat(k,"__input"),value:A,name:H,type:"checkbox",onChange:I,defaultChecked:E,disabled:P,"aria-label":K,"aria-labelledby":x,checked:w}),a("div",Object.assign({className:m.apply(void 0,D),ref:z},{children:a(p,{className:"".concat(k,"__icon"),iconType:p.type.SVG,icon:L?u:d,ignoreFocusStyle:!0,clickable:!1,ariaHidden:!0,iconSize:"16"})})),!1===N?null:a("span",Object.assign({className:m("".concat(k,"__label"),y)},{children:N}))]}))}));export{v as default};
