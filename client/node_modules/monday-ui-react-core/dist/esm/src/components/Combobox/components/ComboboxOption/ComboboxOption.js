import{jsxs as o,Fragment as e,jsx as i}from"react/jsx-runtime";import{useRef as n,useEffect as t,useCallback as r,useMemo as l}from"react";import c from"classnames";import s from"../../../Icon/Icon.js";import a from"../../../Tooltip/Tooltip.js";import p from"../../../../hooks/useIsOverflowing/useIsOverflowing.js";import{keyCodes as f}from"../../../../constants/keyCodes.js";import{getOptionId as u}from"../../helpers.js";import{ComboboxOptionIconType as m}from"../ComboboxConstants.js";import"./ComboboxOption.scss.js";var d=function(d){var v=d.index,b=d.option,h=d.className,g=d.isActive,O=d.visualFocus,j=d.scrollRef,y=d.scrollOffset,T=void 0===y?100:y,C=d.onOptionClick,I=d.onOptionLeave,N=d.onOptionHover,k=d.optionLineHeight,E=d.shouldScrollWhenActive,x=void 0===E||E,R=d.optionRenderer,S=void 0===R?null:R,w=b.id,L=b.leftIcon,A=b.leftIconType,F=b.rightIcon,z=b.rightIconType,D=b.label,H=b.iconSize,M=void 0===H?16:H,K=b.disabled,P=b.selected,V=b.ariaLabel,W=b.belongToCategory,_=void 0!==W&&W,q=b.tooltipContent,B=n(null),G=n(),J=p({ref:G});t((function(){var o,e=B.current;O&&e&&x&&((null==j?void 0:j.current)&&e?j.current.scrollTop=e.offsetTop-T:null===(o=null==e?void 0:e.scrollIntoView)||void 0===o||o.call(e,{behaviour:"smooth"}))}),[B,O,x,j,T,_]);var Q=function(o,e,n){return e===m.RENDERER?o("option-icon ".concat(n)):i(s,{className:c("option-icon",n),iconType:s.type.ICON_FONT,clickable:!1,icon:o,iconSize:M,ignoreFocusStyle:!0})},U=r((function(o){C(o,v,b,!0)}),[v,b,C]),X=r((function(o){K||I(o,v,b,!0)}),[v,b,I,K]),Y=r((function(o){K||N(o,v,b,!0)}),[v,b,N,K]),Z=r((function(o){o.key!==f.ENTER&&o.key!==f.SPACE||C(o,v,b,!1)}),[C,v,b]);q||(q=J?D:null);var $=l((function(){return S&&S(b)}),[S,b]),oo=o(e,{children:[L&&Q(L,A,"left"),i("div",Object.assign({ref:G,className:"option-label"},{children:D})),F&&Q(F,z,"right")]});return i(a,Object.assign({content:q},{children:i("div",Object.assign({ref:B,"aria-level":_?2:1,"aria-selected":g,"aria-label":V||D,id:u(w,v),onMouseEnter:Y,onClick:U,onKeyDown:Z,onMouseLeave:X,className:c("combobox-option",h,{disabled:K,selected:P,active:g,"active-outline":O,first:0===v}),style:{height:k}},{children:$||oo}),w||D)}))};Object.assign(d,{iconTypes:m});export{d as default};
