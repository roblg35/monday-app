import{toConsumableArray as o,typeof as r}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as e,jsxs as t}from"react/jsx-runtime";import i from"classnames";import{difference as n,intersection as l}from"lodash-es";import{forwardRef as s,useCallback as c,useRef as a,useMemo as m}from"react";import{ColorStyle as d,contentColors as u}from"../../../../utils/colors-vars-map.js";import p from"../../../Icon/Icons/components/NoColor.js";import{ColorShapes as f,DEFAULT_NUMBER_OF_COLORS_IN_LINE as C}from"../../ColorPickerConstants.js";import{calculateColorPickerWidth as v}from"../../services/ColorPickerStyleService.js";import"./ColorPickerContent.scss.js";import{useGridKeyboardNavigationContext as I,GridKeyboardNavigationContext as S}from"../../../GridKeyboardNavigationContext/GridKeyboardNavigationContext.js";import{ColorPickerClearButton as h}from"./ColorPickerClearButton.js";import{ColorPickerColorsGrid as j}from"./ColorPickerColorsGrid.js";import{BaseSizes as b}from"../../../../constants/sizes.js";var k=s((function(r,s){var k=r.className,y=r.onValueChange,O=r.value,g=r.noColorText,x=r.colorStyle,L=void 0===x?d.REGULAR:x,N=r.ColorIndicatorIcon,R=r.SelectedIndicatorIcon,B=r.shouldRenderIndicatorWithoutBackground,P=r.NoColorIcon,E=void 0===P?p:P,M=r.isBlackListMode,w=void 0===M||M,z=r.colorsList,T=r.isMultiselect,G=r.colorSize,U=void 0===G?b.MEDIUM:G,A=r.numberOfColorsInLine,_=void 0===A?C:A,K=r.tooltipContentByColor,W=void 0===K?{}:K,D=r.focusOnMount,H=r.colorShape,Q=void 0===H?f.SQUARE:H,V=r.forceUseRawColorList,Y=r.showColorNameTooltip,q=c((function(){y(null)}),[y]),F=a(null),J=a(null),X=m((function(){return V?z:w?n(u,z):l(u,z)}),[V,w,z]),Z=c((function(r){if(T){var e=o(O);if(e.includes(r)){var t=e.indexOf(r);t>-1&&e.splice(t,1)}else e.push(r);y(e)}else y([r])}),[T,y,O]),$=m((function(){return[{topElement:F,bottomElement:J}]}),[]),oo=I($,s),ro=v(U,_);return e("div",Object.assign({className:i("color-picker-content--wrapper",k),style:{width:ro},ref:s,tabIndex:-1},{children:t(S.Provider,Object.assign({value:oo},{children:[e(j,{ref:F,onColorClicked:Z,colorsToRender:X,numberOfColorsInLine:_,focusOnMount:D,value:O,colorStyle:L,ColorIndicatorIcon:N,shouldRenderIndicatorWithoutBackground:B,SelectedIndicatorIcon:R,colorSize:U,tooltipContentByColor:W,colorShape:Q,showColorNameTooltip:Y&&!V}),g&&e(h,{Icon:E,onClick:q,text:g,ref:J})]}))}))}));Object.assign(k,{COLOR_STYLES:d,sizes:r(b),colorStyles:d,colorSizes:r(b),colorShapes:f});var y=k;export{y as default};
