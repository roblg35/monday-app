import{__rest as t}from"../../../_virtual/_tslib.js";import{jsx as o,jsxs as n}from"react/jsx-runtime";import{useMemo as e,useCallback as i,useRef as s,useEffect as r}from"react";import a from"classnames";import{CSSTransition as c}from"react-transition-group";import l from"../Button/Button.js";import m from"../Icon/Icon.js";import u from"../Icon/Icons/components/CloseSmall.js";import p from"./ToastLink/ToastLink.js";import d from"./ToastButton/ToastButton.js";import{ToastType as f,ToastActionType as y}from"./ToastConstants.js";import{getIcon as j}from"./ToastHelpers.js";import{NOOP as v}from"../../utils/function-utils.js";import"./Toast.scss.js";var T=function(T){var b=T.open,O=void 0!==b&&b,g=T.autoHideDuration,N=void 0===g?null:g,h=T.type,I=void 0===h?f.NORMAL:h,L=T.icon,k=T.hideIcon,R=void 0!==k&&k,B=T.action,C=T.actions,S=T.children,_=T.closeable,x=void 0===_||_,A=T.onClose,z=void 0===A?v:A,M=T.className,E=e((function(){return C?C.filter((function(t){return t.type===y.LINK})).map((function(n){var e=t(n,["type"]);return o(p,Object.assign({},e),e.href)})):null}),[C]),H=e((function(){return C?C.filter((function(t){return t.type===y.BUTTON})).map((function(n,e){var i=n.content,s=t(n,["type","content"]);return o(d,Object.assign({},s,{children:i}),"alert-button-".concat(e))})):null}),[C]),Y=e((function(){return a("monday-style-toast","monday-style-toast--type-".concat(I),M)}),[I,M]),D=i((function(){z&&z()}),[z]),F=s(),G=i((function(t){z&&null!=t&&(clearTimeout(F.current),F.current=setTimeout((function(){D()}),t))}),[D,z]);r((function(){return O&&N>0&&G(N),function(){clearTimeout(F.current)}}),[O,N,G]);var K=!R&&j(I,L);return o(c,Object.assign({in:O,classNames:"monday-style-toast-animation",timeout:400,unmountOnExit:!0},{children:n("div",Object.assign({className:Y,role:"alert","aria-live":"polite"},{children:[K&&o("div",Object.assign({className:"monday-style-toast-icon"},{children:K})),n("div",Object.assign({className:a("monday-style-toast-content",{"monday-style-toast-content-no-icon":!K})},{children:[S,E]})),(H||B)&&o("div",Object.assign({className:"monday-style-toast-action"},{children:H||B})),x&&o(l,Object.assign({className:"monday-style-toast_close-button",onClick:D,size:l.sizes.SMALL,kind:l.kinds.TERTIARY,color:l.colors.ON_PRIMARY_COLOR,ariaLabel:"close-toast"},{children:o(m,{iconType:m.type.SVG,clickable:!1,icon:u,iconSize:"20px",ignoreFocusStyle:!0})}))]}))}))};Object.assign(T,{types:f,actionTypes:y});var b=T;export{b as default};
